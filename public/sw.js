"use strict";(()=>{var n="rico-ouro-cache-v14",i=["/","/manifest.webmanifest"];self.addEventListener("install",e=>{console.log("Service Worker: Installing..."),e.waitUntil(caches.open(n).then(async t=>{console.log("Service Worker: Caching App Shell");let c=i.map(async r=>{try{await t.add(r),console.log(`Service Worker: Cached ${r}`)}catch(a){console.warn(`Service Worker: Failed to cache ${r}`,a)}});await Promise.all(c)})),self.skipWaiting()});self.addEventListener("activate",e=>{console.log("Service Worker: Activating..."),e.waitUntil(caches.keys().then(t=>Promise.all(t.map(c=>{if(c!==n)return console.log("Service Worker: Removing old cache",c),caches.delete(c)})))),self.clients.claim()});self.addEventListener("fetch",e=>{e.request.method==="GET"&&(e.request.url.startsWith("chrome-extension")||e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).then(c=>{if(!c||c.status!==200||c.type!=="basic")return c;let r=c.clone();return caches.open(n).then(a=>{a.put(e.request,r)}),c}).catch(()=>new Response("Offline",{status:503})))))});self.addEventListener("sync",e=>{console.log("Service Worker: Sync event fired",e.tag),e.tag==="sync-data"&&e.waitUntil(s())});async function s(){console.log("Service Worker: Executing background sync...")}})();
